# Single-Mode Feature Extraction Config
# Run one feature extraction mode at a time to avoid memory issues

# Base data directory
base_data_dir: "data"

# Datasets to process (will be combined for training/testing)
datasets:
  - "balanced_collected_data_runs_2026_01_15_workspace_1_squares_cutout_undersample"
  - "balanced_collected_data_runs_2026_01_15_workspace_1_pure_no_contact_undersample"
  - "balanced_collected_data_runs_2026_01_15_workspace_1_pure_contact_undersample"

  - "balanced_collected_data_runs_2026_01_14_workspace_3_pure_no_contact_undersample"
  - "balanced_collected_data_runs_2026_01_14_workspace_3_pure_contact_undersample"

  - "balanced_collected_data_runs_2025_12_15_v2_2_workspace3_squares_cutout_undersample"
  - "balanced_collected_data_runs_2025_12_17_v2_workspace_3_squares_cutout_undersample"

# Optional: Specify datasets to use for validation (holdout)
validation_datasets: [
  "balanced_collected_data_runs_2026_01_15_workspace_2_squares_cutout_undersample",
  "balanced_collected_data_runs_2026_01_15_workspace_2_pure_no_contact_undersample",
  "balanced_collected_data_runs_2026_01_15_workspace_2_pure_contact_undersample"
]

# Feature Extraction Mode Configuration
feature_extraction:
  modes:  # Single mode for testing
    - "features"  # Change this to test different modes: "spectrogram", "mfcc", "magnitude_spectrum", "power_spectrum", "chroma", "both"

  mode: "features"  # Keep in sync with modes list

  # Spectrogram extraction parameters
  spectrogram:
    n_fft: 2048
    hop_length: 256
    n_mels: 128
    time_bins: 256
    n_mfcc: 13
    n_chroma: 12

# Training configuration
training:
  model_type: "mlp_top3_ensemble"  # Options: "mlp_top3_ensemble", "random_forest", "svm", "knn"
  random_seed: 42
  stratify: true
  train_split: 0.8

# Dimensionality reduction (applied before training)
dimensionality_reduction:
  enabled: true
  method: "pca"  # Options: "pca", "ica", "tsne", "umap", "autoencoder"
  n_components: 50  # Target dimensionality

# Discrimination analysis
discrimination_analysis:
  enabled: true
  methods: ["lda", "svm", "rf", "knn"]  # Linear Discriminant Analysis, SVM, Random Forest, KNN

# Output Configuration
output:
  base_dir: "single_mode_test"  # Single mode testing

# Analysis Experiments (Standard Pipeline)
experiments:
  data_processing:
    enabled: true
    apply_audio_smoothing: false
    use_workspace_invariant_features: true  # Enable workspace-invariant features for better generalization
    use_impulse_features: true  # Enable transfer function / impulse response features
    use_data_augmentation: false  # Enable data augmentation for training data
    augmentation_factor: 2  # How many augmented copies per original sample
    motion_artifact_removal:
      enabled: false

  dimensionality_reduction:
    enabled: true

  discrimination_analysis:
    enabled: true

  saliency_analysis:
    enabled: false

  feature_ablation:
    enabled: false

  impulse_response:
    enabled: false

  frequency_band_ablation:
    enabled: false

  surface_reconstruction:
    enabled: false