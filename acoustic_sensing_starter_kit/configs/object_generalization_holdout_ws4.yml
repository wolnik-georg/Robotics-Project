# Object Generalization: Train on WS1+WS2+WS3 (Objects A,B,C) â†’ Validate on WS4 (Object D - novel object)
# 3-CLASS MODE (contact, no_contact, edge)
#
# This experiment tests generalization to a NOVEL OBJECT (Object D in WS4)
# Expected: Performance should drop to ~random chance (33.3%) because object is unseen
# Purpose: Show fundamental limitation - acoustic sensing can't generalize to new objects

# Base data directory
base_data_dir: "data"

# TRAINING: Workspaces 1, 2, 3 (Objects A, B, C)
datasets:
  - "balanced_workspace_1_3class_squares_cutout"
  - "balanced_workspace_1_3class_pure_no_contact"
  - "balanced_workspace_1_3class_pure_contact"
  - "balanced_workspace_2_3class_squares_cutout"
  - "balanced_workspace_2_3class_pure_no_contact"
  - "balanced_workspace_2_3class_pure_contact"
  - "balanced_workspace_3_3class_squares_cutout_v1"
  - "balanced_workspace_3_3class_squares_cutout_v2"
  - "balanced_workspace_3_3class_pure_contact"
  - "balanced_workspace_3_3class_pure_no_contact"

# VALIDATION: Workspace 4 (Object D - completely novel object)
validation_datasets:
  - "balanced_holdout_3class"

# Reconstruction Configuration
reconstruction:
  enabled: false
  output_dir: "reconstruction_results"

# Class Filtering Configuration - 3-CLASS MODE
class_filtering:
  enabled: false
  classes_to_exclude_train: []  # Include all: contact, no_contact, edge
  classes_to_exclude_validation: []

# Domain Adaptation
domain_adaptation:
  enabled: false
  holdout_train_split: 0.3

# Feature Extraction Mode
feature_extraction:
  modes:
    - "features"  # Hand-crafted features (65 dimensions)
  mode: "features"
  
  spectrogram:
    n_fft: 512
    hop_length: 128
    n_mels: 80
    time_bins: 128
    fmin: 100
    fmax: 20000
    use_log_scale: true
    n_mfcc: 13
    n_chroma: 12
    
  normalization:
    enabled: false
    method: "zscore"

# Analysis Experiments
experiments:
  data_processing:
    enabled: true
    apply_audio_smoothing: false
    use_workspace_invariant_features: true
    use_impulse_features: true
    use_data_augmentation: true
    augmentation_factor: 2
    enhanced_augmentation: false
    motion_artifact_removal:
      enabled: false

  dimensionality_reduction:
    enabled: true

  discrimination_analysis:
    enabled: true
    feature_selection:
      enabled: false
      top_k_features: 50
      method: "ensemble"
    
    confidence_filtering:
      enabled: true
      threshold: 0.8
      mode: "reject"
      default_class: "no_contact"

  saliency_analysis:
    enabled: false

  feature_ablation:
    enabled: false

  impulse_response:
    enabled: false

  frequency_band_ablation:
    enabled: false

  surface_reconstruction:
    enabled: false

# Output Configuration
output:
  base_dir: "object_generalization_ws4_holdout_3class"
